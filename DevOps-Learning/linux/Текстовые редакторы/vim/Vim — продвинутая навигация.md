В этом уроке мы рассмотрим продвинутые методы перемещения по тексту в Vim. Эти инструменты помогут вам быстрее и эффективнее работать с большими файлами, а также точно перемещаться к нужным строкам и символам. После изучения этого материала вы сможете уверенно пользоваться поиском, метками, историей переходов и командой для переключения окон и буферов.

### Расширенные команды перемещения по тексту

Помимо базовых команд навигации (`h, j, k, l`, `0`, `$`, `gg`, `G`), Vim предлагает дополнительные команды, чтобы перемещаться по словам и символам:

- **w, b, e** — перемещение по словам:
    - `w` — переход к началу следующего слова.
    - `b` — переход к началу предыдущего слова.
    - `e` — переход к концу текущего слова.
- **f{char}, F{char}, t{char}, T{char}** — поиск символа в пределах строки:
    - `f` + символ — перемещает курсор к первому вхождению символа после курсора.
    - `F` + символ — поиск того же символа в обратном направлении.
    - `t` + символ — перемещает курсор непосредственно перед символом.
    - `T` + символ — аналогично `t`, но в обратном направлении.
- **%** — перемещает курсор между парными скобками, что особенно полезно при редактировании кода или текста с вложенной структурой.

### **Навигация по экрану**

Помимо перемещений по словам и символам, в Vim есть команды для перехода в определённые позиции видимой части экрана:

- H — перемещает курсор на верхнюю строку экрана.  
- M — перемещает курсор в середину экрана.  
- L — перемещает курсор на нижнюю строку экрана.  

### Поиск и перемещение по шаблону

Использование поиска позволяет быстро находить нужные фрагменты текста:

- **/pattern** — **поиск вперед.** Например:
    
    ```bash
    /function
    ```
    
    **Нажмите `Enter` для запуска поиска, затем используйте `n` для перехода к следующему вхождению и `N` для обратного перемещения.**
- **?pattern** — **поиск назад, действующий аналогично, но в обратном направлении.**
- **n** — **повторить поиск в том же направлении, что и последний выполненный поиск.**
- **N — повторить поиск в обратном направлении.**

### Работа с метками

Метки позволяют сохранять позиции в документе для быстрого перехода к ним:

- **ma** — установка метки с именем «a» в текущей позиции. Можно использовать любую букву от `a` до `z`.
- **'a** — переход к началу строки, где установлена метка «a». Если хотите перейти точно к позиции с учетом столбца, используйте `` `a `` (гравис).
- **:marks** — команда для вывода списка всех установленных меток, что удобно при работе с большими документами.
- ! **'a → начало строки, `a → точная позиция**.

### Переход по истории переходов

Vim сохраняет историю ваших перемещений, что позволяет вернуться к предыдущим позициям:

- **CTRL + O** — **переход к предыдущему месту в истории перемещений.**
- **CTRL + I — переход к следующему месту после использования `CTRL + O`.**

### Работа с окнами и буферами

Если вы работаете с несколькими окнами или открытыми файлами (буферами), Vim предлагает удобные команды для их переключения:

- **CTRL + w, h/j/k/l** — перемещение между окнами. Сначала нажмите `CTRL + w`, затем направление перемещения с помощью клавиш `h`, `j`, `k` или `l`.
- **:bnext и :bprev — команды для переключения между буферами (открытыми файлами) вперед и назад соответственно.**

### Практические советы и примеры

- Используйте числовые префиксы для ускорения перемещения. Например, `5w` перемещает курсор через пять слов, а `3%` перемещает к соответствующей закрывающей или открывающей скобке, если они вложены.
- Комбинируйте поисковые команды с `n` и `N` для быстрого перемещения между результатами поиска.
- Регулярно ставьте метки (`ma`, `mb`, `mc` и т.д.) в тех местах файла, куда вам нужно часто возвращаться. Используйте `:marks` для проверки установленных меток.
- При работе с несколькими файлами экспериментируйте с переходами между буферами, чтобы не теряться в открытых документах.
- Осваивайте переходы по истории (`CTRL + O` и `CTRL + I`), что позволит вам возвращаться к ранее посещенным позициям без лишних перемещений.