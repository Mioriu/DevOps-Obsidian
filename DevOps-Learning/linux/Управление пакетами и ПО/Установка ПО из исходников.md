## ![](https://ucarecdn.stepik.net/5c4e2f15-4a93-4ecc-9ab7-983ef9de7c9c/)

Пакетные менеджеры — это удобно и просто, но иногда необходимой программы просто нет в репозитории или вам требуется установить её с особыми параметрами. В таких ситуациях можно использовать установку **из исходников**, компилируя программу прямо на вашем компьютере.

### Что значит установка из исходников?

Установка программы из исходников подразумевает три шага:

- Загрузка и распаковка архива с исходным кодом
- Компиляция программы (преобразование исходного кода в исполняемые файлы)
- Установка скомпилированной программы в систему

### Зачем устанавливать из исходников?

- Самые свежие версии ПО, которые ещё не попали в репозитории
- Гибкая настройка программы под конкретные потребности
- Оптимизация под вашу систему и железо

### Подготовка системы

Перед началом убедитесь, что у вас установлен минимальный набор инструментов для компиляции программ:

- Для Debian/Ubuntu:
    
    ```bash
    sudo apt install build-essential
    ```
    
- Для Fedora/CentOS:
    
    ```bash
    sudo dnf groupinstall "Development Tools"
    ```
    

### Шаги установки ПО из исходников

Разберём процесс на примере программы **htop**:

#### Шаг 1. Загрузка исходников

Скачайте исходный код программы с официального сайта или из репозитория GitHub. Обычно это архивы `.tar.gz` или `.tar.bz2`. Например, скачивание с помощью wget:

```bash
wget https://github.com/htop-dev/htop/archive/refs/tags/3.2.2.tar.gz
```

#### Шаг 2. Распаковка архива

Распакуйте скачанный архив командой:

```bash
tar -xzvf 3.2.2.tar.gz
cd htop-3.2.2
```

Аргументы команды `tar`:

- `-x` — извлечь файлы из архива
- `-z` — использовать gzip (.gz)
- `-v` — подробный вывод (verbose)
- `-f` — указать имя архива
- `-j` — использовать bzip2 (.bz2)
- Для архива `.tar.gz` обязательно используйте флаг `-z`.

#### Шаг 3. Конфигурация перед компиляцией

Перед компиляцией обычно выполняется скрипт конфигурации `./configure`, который проверяет систему и настраивает параметры компиляции:

```bash
./configure
```

Если при запуске возникают ошибки о нехватке библиотек, установите их с помощью вашего пакетного менеджера.

#### Шаг 4. Компиляция программы

Запустите компиляцию с помощью команды `make`:

```go
make
```

Компиляция может занять некоторое время, в зависимости от размера программы и мощности вашего компьютера.

#### Шаг 5. Установка скомпилированной программы

После успешной компиляции выполните команду `make install`, чтобы установить программу в систему. Обычно это требует прав администратора:

```bash
sudo make install
```

_Удаление программы обычно выполняется из каталога исходников командой `make uninstall`._

Теперь ваша программа готова к использованию.

### Проверка установленного ПО

После установки проверьте успешность выполнения:

```css
htop --version
```

Если вы видите номер версии, всё прошло успешно!

### Удаление ПО, установленного из исходников

Если вы захотите удалить программу, установленную из исходников, зайдите в папку с исходным кодом и выполните:

```bash
sudo make uninstall
```

**Важно:** не удаляйте директорию с исходным кодом сразу после установки, чтобы иметь возможность корректного удаления программы в будущем.

### Полезные советы при работе с исходниками

- Всегда внимательно читайте файл `README` или `INSTALL` в архиве исходников. В них часто указаны особые инструкции.
- Используйте опции `./configure --help`, чтобы узнать о доступных параметрах конфигурации.
- Не устанавливайте большое количество программ из исходников без необходимости, поскольку их будет сложнее обновлять и поддерживать.
- Код возврата последней выполненной команды можно проверить через `$?`. 0 — успех, любое другое число означает ошибку.