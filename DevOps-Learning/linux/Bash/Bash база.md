## ![](https://ucarecdn.stepik.net/d23685b2-c158-441b-8064-4f42ec538a8c/)

## Основы Bash

**Bash** (Bourne Again SHell) — это оболочка командной строки и одновременно язык сценариев, используемый практически в каждом дистрибутиве Linux.

**Bash-скрипты** позволяют:

- Автоматизировать повторяющиеся задачи
- Сэкономить время
- Значительно упростить работу

### Что такое Bash-скрипт?

**Bash-скрипт** — это обычный текстовый файл, содержащий набор команд оболочки, которые последовательно выполняются при запуске файла. Такие скрипты могут включать:

- Простые Linux-команды
- Переменные и работу с ними
- Управляющие конструкции (циклы, условия)
- Функции и сложную логику

### Создание первого Bash-скрипта

Создадим простой скрипт, выводящий текст на экран. Выполним действия пошагово:

1. **Создайте файл** `hello.sh` с помощью редактора Vim (или другого редактора):
    
    ```nginx
    vim hello.sh
    ```
    
2. Добавьте в него следующий код:
    
    ```bash
    #!/bin/bash
    
    echo "Привет, мир!"
    ```
    
3. **Сохраните изменения** (для Vim используйте `:wq`)
4. Сделайте скрипт исполняемым:
    
    ```bash
    chmod +x hello.sh
    ```
    
5. **Запустите** свой первый Bash-скрипт:
    
    ```bash
    ./hello.sh
    ```
    

После запуска вы увидите:

```undefined
Привет, мир!
```

### Разбор структуры скрипта

Разберём, что означает каждая строка:

- `#!/bin/bash` — это **shebang** (шаблон запуска), указывающий системе, что скрипт следует выполнять в оболочке Bash.

После `#!` **сразу** идёт путь к интерпретатору без пробела: `#!/bin/bash` или `#!/usr/bin/env bash`.

- `echo "Привет, мир!"` — простая команда, выводящая строку текста на экран.

### Исполнение Bash-скриптов

Для запуска скрипта у вас есть несколько способов:

```1c
./script.sh          # запуск как программы (нужен chmod +x)
bash script.sh       # явный вызов интерпретатора
source script.sh     # выполнить в текущей оболочке (не создаёт новый процесс)
```

### Переменные в Bash

Bash позволяет работать с переменными, сохраняя в них значения и используя их при выполнении команд. Основные правила использования переменных:

- Имена переменных обычно записывают заглавными буквами.
- Для присвоения переменных используется знак `=` (без пробелов).
- Обращение к переменной осуществляется с символом `$`.
- **«Присваивание без пробелов: `NAME=Anton`, а не `NAME = Anton`.»**
    
- **«Подставляя переменные в пути, оборачивайте в кавычки: `cat "$FILE"`.»**
    

Пример использования переменных:

```bash
#!/bin/bash

NAME="Антон"
AGE=30

echo "Меня зовут $NAME, мне $AGE лет."
```

Вывод:

```erlang
Меня зовут Антон, мне 30 лет.
```

### Передача аргументов в скрипт

Bash-скрипт может принимать аргументы командной строки:

- `$1`, `$2`, ... — первый, второй и последующие аргументы.
- `$0` — имя самого скрипта.
- `$#` — количество переданных аргументов.

Пример скрипта с аргументами:

```bash
#!/bin/bash

echo "Имя скрипта: $0"
echo "Первый аргумент: $1"
echo "Количество аргументов: $#"
```

Запускаем скрипт:

```bash
./args.sh Linux Bash
```

Вывод:

```bash
Имя скрипта: ./args.sh
Первый аргумент: Linux
Количество аргументов: 2
```

### Комментарий в Bash-скриптах

Комментарии помогают лучше понять код. Комментарии начинаются с символа решётки `#` и не выполняются:

```bash
# Это комментарий, он игнорируется
echo "Эта строка выполнится" # Комментарий после команды
```

### Перенаправления > и >>

```applescript
cmd > file    # перезаписать файл
cmd >> file   # добавить в конец (не перезаписывая)
echo 'Учусь Bash!' >> notes.log
date >> today.log
```

### Полезные советы по работе с Bash-скриптами

- Используйте команды `echo`, чтобы выводить промежуточные результаты и отлаживать скрипты.
- Всегда прописывайте `#!/bin/bash` в начале файла.
- Делайте ваши скрипты максимально читаемыми: добавляйте комментарии, используйте понятные имена переменных.
- Привыкайте использовать относительные пути, чтобы ваши скрипты были универсальными.

### Закрепление материала

Перед тем, как перейти к практическому заданию:

- Создайте несколько простых скриптов, меняя переменные и текст.
- Запустите скрипты с разными аргументами.
- Потренируйтесь добавлять комментарии и использовать переменные.

**Поздравляем!** Вы изучили основы написания Bash-скриптов. В следующем уроке вы закрепите знания на практике.