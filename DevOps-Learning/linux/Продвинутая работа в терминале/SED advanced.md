## ![](https://ucarecdn.stepik.net/d81d7a78-3b71-462c-a2b0-cea50452e3f1/)

## –£—Ç–∏–ª–∏—Ç–∞ sed ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–í –ø—Ä–µ–¥—ã–¥—É—â–µ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏ –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å —É—Ç–∏–ª–∏—Ç–æ–π¬†**sed**. –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥—ë–º –∫ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –∏ –º–æ—â–Ω—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º —ç—Ç–æ–π —É—Ç–∏–ª–∏—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ—à–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π.

### –ß—Ç–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤ —ç—Ç–æ–º —É—Ä–æ–∫–µ:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –≤ sed
- –†–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ –∏ –æ–±—Ä–∞—Ç–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–∞–Ω–¥ –≤ –æ–¥–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –≤—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞–º–∏ —Å –ø–æ–º–æ—â—å—é sed-—Å–∫—Ä–∏–ø—Ç–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π (-E)

sed –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π:

- –ë–∞–∑–æ–≤—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (—Å —Ñ–ª–∞–≥–æ–º¬†`-E`)

–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã:

- `+`¬†‚Äî –æ–¥–Ω–æ –∏–ª–∏ –±–æ–ª—å—à–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
- `?`¬†‚Äî –Ω–æ–ª—å –∏–ª–∏ –æ–¥–Ω–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `|`¬†‚Äî –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò
- `()`¬†‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞

**–ü—Ä–∏–º–µ—Ä —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º**:

```delphi
sed -E 's/colou?r/color/g' file.txt
```

–ó–∞–º–µ–Ω–∏—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è ‚Äî¬†`color`¬†–∏¬†`colour`¬†‚Äî –Ω–∞¬†`color`.

### –†–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ –∏ –æ–±—Ä–∞—Ç–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏

sed –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã —Å–∏–º–≤–æ–ª–æ–≤ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è. –î–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫—Ä—É–≥–ª—ã–µ —Å–∫–æ–±–∫–∏¬†`()`, –∞ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≥—Ä—É–ø–ø—ã ‚Äî —Å–∏–º–≤–æ–ª –æ–±—Ä–∞—Ç–Ω–æ–π –∫–æ—Å–æ–π —á–µ—Ä—Ç—ã —Å –Ω–æ–º–µ—Ä–æ–º –≥—Ä—É–ø–ø—ã:¬†`\1`,¬†`\2`¬†–∏ —Ç. –¥.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø**:

–î–æ–ø—É—Å—Ç–∏–º, –≤ —Ñ–∞–π–ª–µ –µ—Å—Ç—å –¥–∞—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∞¬†`–ì–ì–ì–ì-–ú–ú-–î–î`¬†–∏ –∏—Ö –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ —Ñ–æ—Ä–º–∞—Ç¬†`–î–î/–ú–ú/–ì–ì–ì–ì`:

```bash
echo "2024-04-05" | sed -E 's/([0-9]{4})-([0-9]{2})-([0-9]{2})/\3\/\2\/\1/'
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

```swift
05/04/2024
```

–ó–¥–µ—Å—å –º—ã:

- –°–æ–∑–¥–∞–ª–∏ —Ç—Ä–∏ –≥—Ä—É–ø–ø—ã¬†`([0-9]{4})`,¬†`([0-9]{2})`,¬†`([0-9]{2})`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –æ–±—Ä–∞—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏¬†`\3`,¬†`\2`,¬†`\1`, —á—Ç–æ–±—ã –ø–µ—Ä–µ—Å—Ç–∞–≤–∏—Ç—å —á–∞—Å—Ç–∏ –¥–∞—Ç—ã –º–µ—Å—Ç–∞–º–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö sed-–∫–æ–º–∞–Ω–¥ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

–ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ sed –≤ –æ–¥–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥¬†`-e`¬†–¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã:

```swift
sed -e 's/one/–æ–¥–∏–Ω/' -e 's/two/–¥–≤–∞/' file.txt
```

–ò–ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ –≤ –æ–¥–∏–Ω –±–ª–æ–∫ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É —Å –∑–∞–ø—è—Ç–æ–π¬†`;`:

```swift
sed 's/one/–æ–¥–∏–Ω/; s/two/–¥–≤–∞/' file.txt
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ –≤—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞

sed –º–æ–∂–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –∑–∞–º–µ–Ω—è—Ç—å, –Ω–æ –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–ª–∏ –≤—Å—Ç–∞–≤–ª—è—Ç—å —Å—Ç—Ä–æ–∫–∏:

- `a\`¬†‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ—Å–ª–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
- `i\`¬†‚Äî –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –¥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
- `c\`¬†‚Äî –∑–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É —Ü–µ–ª–∏–∫–æ–º

**–ü—Ä–∏–º–µ—Ä:**¬†–¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ —Å —Ç–µ–∫—Å—Ç–æ–º ¬´error¬ª:

```nginx
sed '/error/a\–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç—É –æ—à–∏–±–∫—É!' logfile.txt
```

–ò–ª–∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–µ—Ä–µ–¥ —Å—Ç—Ä–æ–∫–æ–π, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π ¬´WARNING¬ª:

```nginx
sed '/WARNING/i\== –í–Ω–∏–º–∞–Ω–∏–µ! –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ ==' logfile.txt
```

### –£–¥–∞–ª–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ —Å—Ç—Ä–æ–∫

–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å 5 –ø–æ 10 –∏–∑ —Ñ–∞–π–ª–∞ –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:

```delphi
sed '5,10d' file.txt
```

–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –æ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –¥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –¥—Ä—É–≥–æ–≥–æ:

```swift
sed '/–Ω–∞—á–∞–ª–æ —à–∞–±–ª–æ–Ω–∞/,/–∫–æ–Ω–µ—Ü —à–∞–±–ª–æ–Ω–∞/d' file.txt
```

–ù–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–∏—Ç—å –≤—Å—ë –æ—Ç —Å—Ç—Ä–æ–∫–∏, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π ¬´START¬ª, –¥–æ —Å—Ç—Ä–æ–∫–∏ —Å ¬´END¬ª:

```swift
sed '/START/,/END/d' file.txt
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ sed-—Å–∫—Ä–∏–ø—Ç–æ–≤

–ï—Å–ª–∏ sed-–∫–æ–º–∞–Ω–¥—ã —Å–ª–æ–∂–Ω—ã–µ, –∏—Ö –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª (sed-—Å–∫—Ä–∏–ø—Ç) –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª¬†`script.sed`:

```bash
s/error/–æ—à–∏–±–∫–∞/g
/error/i\=== –ù–∞–π–¥–µ–Ω–∞ –æ—à–∏–±–∫–∞ ===
/warning/a\=== –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ ===
```

–ó–∞–ø—É—Å–∫ sed —Å —ç—Ç–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º:

```applescript
sed -f script.sed logfile.txt
```

–≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–í—ã–±–æ—Ä–æ—á–Ω–∞—è –ø–µ—á–∞—Ç—å —Å—Ç—Ä–æ–∫ —Å —Ñ–ª–∞–≥–æ–º¬†`-n`**: –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ 3-—é —Å—Ç—Ä–æ–∫—É:

```delphi
sed -n '3p' file.txt
```

- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**¬†(—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π):

```nginx
sed -i.bak 's/error/–æ—à–∏–±–∫–∞/g' *.log
```

–ó–¥–µ—Å—å sed —Å–æ–∑–¥–∞—Å—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º¬†`.bak`¬†–ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º.

## –ò—Ç–æ–≥

üìå¬†**–ö—Ä–∞—Ç–∫–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º sed**

- `-E`¬†‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
    
- `\1`,¬†`\2`, ‚Ä¶ ‚Äî –æ–±—Ä–∞—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≥—Ä—É–ø–ø—ã
    
- `cmd1 ; cmd2`¬†‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ sed –≤ –æ–¥–Ω–æ–º –≤—ã–∑–æ–≤–µ
    
- `/pattern/a\—Ç–µ–∫—Å—Ç`¬†‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ—Å–ª–µ —Å–æ–≤–ø–∞–≤—à–µ–π
    
- `/pattern/i\—Ç–µ–∫—Å—Ç`¬†‚Äî –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–µ—Ä–µ–¥ —Å–æ–≤–ø–∞–≤—à–µ–π
    
- `/pattern/c\—Ç–µ–∫—Å—Ç`¬†‚Äî –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å—é —Å—Ç—Ä–æ–∫—É
    
- `/pattern1/,/pattern2/d`¬†‚Äî —É–¥–∞–ª–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω —Å—Ç—Ä–æ–∫ –º–µ–∂–¥—É —à–∞–±–ª–æ–Ω–∞–º–∏
    
- `sed -f script.sed file.txt`¬†‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏–∑ sed-—Å–∫—Ä–∏–ø—Ç–∞
    

sed ‚Äî –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –º–æ—â–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –û—Å–≤–æ–∏–≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ sed, –≤—ã –º–æ–∂–µ—Ç–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ —Å–∞–º—ã—Ö —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

–í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ –º—ã –∑–∞–∫—Ä–µ–ø–∏–º –≤—Å–µ —ç—Ç–∏ –∑–Ω–∞–Ω–∏—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ, —á—Ç–æ–±—ã —É–≤–µ—Ä–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sed –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö –∑–∞–¥–∞—á–∞—Ö.