## ![](https://ucarecdn.stepik.net/4ce749b9-e963-43f4-8c6b-e05945d4eb65/)

## Настройка окружения командной строки

Терминал Linux является очень мощным инструментом, и одно из его преимуществ — это возможность **гибкой настройки окружения**. Под окружением понимается всё, что окружает вас при работе в терминале: вид приглашения командной строки, используемые псевдонимы команд, переменные окружения, история команд и многое другое. Правильно настроенный терминал может значительно повысить продуктивность и комфорт работы.

### Файлы настройки командной строки

Основные файлы, используемые для настройки командной строки в оболочке Bash, это:

- `~/.bashrc` — основной конфигурационный файл, загружается при открытии нового терминала.
- `~/.bash_profile` или `~/.profile` — выполняются при входе пользователя в систему (часто используются для начальной установки переменных окружения).

Файл `~/.bashrc` обычно содержит настройки, такие как псевдонимы, переменные окружения и пользовательское приглашение (prompt).

![](https://ucarecdn.stepik.net/2273d4cb-7a02-4e39-9fb7-2f177912072f/)

### Настройка приглашения командной строки (Prompt)

Переменная `PS1` отвечает за внешний вид приглашения командной строки. Например, типичное приглашение выглядит так:

```ruby
user@host:~/projects$
```

Этим управляет переменная окружения `PS1`. Чтобы изменить приглашение, добавьте следующую строку в файл `~/.bashrc`:

```bash
export PS1="\u@\h:\w\$ "
```

Расшифровка символов:

- `\u` — имя текущего пользователя.
- `\h` — имя хоста (компьютера).
- `\w` — текущая директория (полный путь).
- `\W` — текущая директория (только имя директории).
- `\$` — знак доллара для обычного пользователя или `#` для root.

После изменения файла выполните команду:

```bash
source ~/.bashrc
```

Ваш prompt сразу изменится.

### Использование псевдонимов (aliases)

**Alias** — это удобные сокращения для длинных или часто используемых команд. Например, если вы часто используете команду `ls -la`, можно создать псевдоним:

```bash
alias ll="ls -la"
```

Теперь достаточно набрать `ll`, и команда выполнится. Чтобы псевдоним сохранялся при перезапуске терминала, добавьте эту строку в `~/.bashrc`.

Ещё примеры полезных псевдонимов:

```bash
alias grep="grep --color=auto"
alias rm="rm -i"
alias cp="cp -i"
alias mv="mv -i"
```

Эти псевдонимы сделают работу с файлами безопаснее (запрашивая подтверждение) и удобнее (выделяя результаты поиска цветом).

### Настройка переменных окружения

Вы уже знакомы с переменными окружения из предыдущего урока. Напомним кратко:

- **Создание переменной:**
    
    ```bash
    export PROJECT_DIR="/home/user/project"
    ```
    
- **Использование переменной:**
    
    ```bash
    cd $PROJECT_DIR
    ```
    
- **Сохранение переменных:** чтобы переменные сохранялись после перезапуска терминала, добавьте их в файл `~/.bashrc`.

### Изменение переменной PATH

Переменная `PATH` — одна из самых важных переменных, отвечающая за поиск исполняемых файлов и команд. Чтобы добавить свою директорию (например, `/home/user/scripts`) в `PATH`, используйте команду:

```bash
export PATH="$PATH:/home/user/scripts"
```

Теперь вы можете запускать скрипты из директории `/home/user/scripts`, находясь в любой точке файловой системы.

### Дополнительные файлы конфигурации

- **~/.bash_history — хранит историю всех выполненных команд.**
- **~/.inputrc** — управляет поведением клавиш и автодополнением.
- **/etc/bash.bashrc — глобальный конфигурационный файл для всех пользователей системы.**

### Настройка внешнего вида терминала

Вы также можете настраивать:

- цвета терминала, чтобы отличать типы файлов или статусы команд;
- подсветку синтаксиса в редакторах (например, в vim или nano);
- размер шрифта и фон терминала в его настройках (зависит от используемого вами терминала, например GNOME Terminal или Konsole).

Чтобы включить цветное отображение списка файлов по умолчанию, добавьте в `~/.bashrc`:

```bash
alias ls='ls --color=auto'
```

Для цветного отображения приглашения используйте конструкцию:

```bash
export PS1="\[\e[0;32m\]\u@\h:\[\e[0;34m\]\w\[\e[0m\]\$ "
```

- `\e[0;32m` — зелёный цвет
- `\e[0;34m` — синий цвет
- `\e[0m` — сброс цвета (по умолчанию)

## Итог

Настройка командной строки позволяет создать максимально удобную и продуктивную рабочую среду. Используя конфигурационные файлы (`.bashrc`, `.bash_profile`), псевдонимы команд, переменные окружения и оформление приглашения, вы можете адаптировать терминал полностью под свои задачи и предпочтения.

[https://habr.com/ru/articles/516004/](https://habr.com/ru/articles/516004/)