Передача файлов по сети — одна из самых распространённых задач Linux-администратора. Рассмотрим базовые инструменты, которые позволяют быстро и просто передавать файлы между Linux-серверами или между сервером и рабочей станцией.

### Передача файлов через `scp` (Secure Copy)

**scp** — простейший и наиболее часто используемый инструмент для безопасного копирования файлов через сеть с использованием SSH.

**Копирование файла на удалённый сервер:**

```ruby
scp localfile.txt user@192.168.1.20:/home/user/
```

**Копирование файла с удалённого сервера на локальный компьютер:**

```ruby
scp user@192.168.1.20:/home/user/remotefile.txt ./
```

**Рекурсивное копирование директории:**

```ruby
scp -r mydirectory user@192.168.1.20:/home/user/
```

### Передача файлов через `sftp` (Secure FTP)

**sftp** предоставляет интерактивный интерфейс для передачи файлов и работает через SSH. Это безопасный аналог FTP.

**Подключение к серверу через sftp:**

```sql
sftp user@192.168.1.20
```

После подключения доступны стандартные команды:

- `put file.txt` — загрузить файл на сервер;
- `get file.txt` — скачать файл с сервера;
- `ls`, `cd`, `pwd` — навигация по директориям на сервере;
- `lcd`, `lls` — навигация по локальным директориям.

Пример интерактивной сессии:

```bash
sftp> put report.pdf
Uploading report.pdf to /home/user/report.pdf
report.pdf                                 100%   12MB  20.5MB/s   00:00
sftp> exit
```

### Передача файлов через HTTP с помощью `curl` и `wget`

Для скачивания файлов с веб-серверов используются команды `wget` и `curl`.

**Использование `wget`:**

```bash
wget http://example.com/file.tar.gz
```

- `-O` позволяет задать имя скачиваемому файлу:

```bash
wget -O myfile.tar.gz http://example.com/file.tar.gz
```

**Использование `curl`:**

```bash
curl -O http://example.com/file.tar.gz
```

- Параметр `-O` сохраняет файл под оригинальным именем.
- `-o` — указать произвольное имя:

```bash
curl -o myfile.tar.gz http://example.com/file.tar.gz
```

### Простая передача файлов с помощью Python HTTP-сервера

Если нужно быстро поделиться файлами в локальной сети без дополнительной настройки, можно запустить встроенный HTTP-сервер Python.

**Запуск сервера (в директории с файлами):**

```yaml
# Python 3
python3 -m http.server 8000
```

Теперь любой может скачать файлы по адресу:

```cpp
http://<ваш-IP-адрес>:8000/
```

На клиенте используйте:

```bash
wget http://192.168.1.20:8000/file.txt
```

### Использование `nc` (netcat) для передачи файлов

**netcat (nc)** — универсальный сетевой инструмент, с помощью которого можно быстро передать файлы между двумя компьютерами.

**На принимающей стороне:**

```css
nc -l -p 1234 > received_file.txt
```

**На отправляющей стороне:**

```nginx
nc 192.168.1.20 1234 < send_file.txt
```

- Замените `192.168.1.20` на IP-адрес принимающей машины.
- Файл `send_file.txt` будет передан на принимающий компьютер и сохранён как `received_file.txt`.

### Проверка успешности передачи файлов

После передачи файлов всегда полезно убедиться в их целостности. Для этого часто используют утилиту `md5sum` или `sha256sum`:

```bash
# на отправителе
sha256sum send_file.txt
d6e28314e85cd564f9bc29c9c4b99aa1a8b1f5bdff2bfad74d6e3eaae67938cb  send_file.txt

# на получателе
sha256sum received_file.txt
d6e28314e85cd564f9bc29c9c4b99aa1a8b1f5bdff2bfad74d6e3eaae67938cb  received_file.txt
```

Если хеш совпадает, файл передан корректно.

## Итоги

- `scp` — удобная и безопасная передача файлов через SSH.
- `sftp` — интерактивный интерфейс для передачи файлов через SSH.
- `wget` и `curl` — загрузка файлов по HTTP/HTTPS.
- Встроенный HTTP-сервер Python — быстрый способ передать файлы в локальной сети.
- `netcat (nc)` — простой способ передачи файлов напрямую через TCP.
- Проверяйте целостность переданных файлов через контрольные суммы (например, `sha256sum`).

Эти базовые инструменты помогут вам быстро и эффективно обмениваться файлами между машинами в сети.