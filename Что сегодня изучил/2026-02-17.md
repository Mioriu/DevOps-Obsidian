### Тезисно: от теории к настройке сети в Linux

**1. Модель TCP/IP (Как ходят данные)**

- **4 уровня:** Сетевое взаимодействие в Linux описывается 4-уровневой моделью TCP/IP.
    
    - **Прикладной (HTTP, SSH):** Данные пользователя (веб-страницы, файлы).
        
    - **Транспортный (TCP, UDP):** Добавляет **порты**, чтобы различать приложения, и делит данные на сегменты.
        
    - **Сетевой (IP, ICMP):** Добавляет **IP-адреса** отправителя и получателя для маршрутизации.
        
    - **Канальный (Ethernet, Wi-Fi):** Упаковывает всё в кадры с **MAC-адресами** для передачи по кабелю.
        
- **Суть:** Каждый следующий уровень добавляет свой «конверт» (заголовок). При получении данных ядро Linux последовательно «снимает» эти конверты.
    
- **Ключевые термины:** IP (адрес узла), Порт (адрес приложения), MAC (адрес железки в локальной сети), MTU (максимальный размер кадра).
    

**2. Базовая настройка интерфейсов (Как это делается в Linux)**

- **Интерфейсы:** В современных системах имена предсказуемы: `enp0s3` (Ethernet) или `wlp2s0` (Wi-Fi). `lo` — это локальная петля (127.0.0.1).
    
- **Главная команда:** `ip` (из пакета `iproute2`). Она пришла на смену устаревшей `ifconfig`.
    
    - `ip link` — управление интерфейсами (вкл/выкл, смена MAC, сброс).
        
    - `ip addr` — просмотр и назначение IP-адресов.
        
    - `ip route` — просмотр и настройка таблицы маршрутизации (куда отправлять пакеты).
        
- **Базовые действия (временные, до перезагрузки):**
    
    1. **Включить сетевую карту:** `ip link set dev enp0s3 up`
        
    2. **Назначить IP:** `ip addr add 192.168.1.100/24 dev enp0s3`
        
    3. **Прописать шлюз:** `ip route add default via 192.168.1.1`
        
- **Диагностика:** После настройки проверяют связь командой `ping` (локально -> шлюз -> интернет).
[[Основы сетевой модели tcp-ip]] [[Конфигурация сетевых интерфейсов-базовая настройка]]
