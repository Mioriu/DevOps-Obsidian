### Тезисно: Передача файлов, DNS и брандмауэры в Linux

**1. Передача файлов по сети (От простого к продвинутому)**

- **Базовые инструменты:**
    
    - **scp:** Простое и безопасное копирование файлов/папок по SSH (`scp file user@host:/path`).
        
    - **sftp:** Интерактивная сессия с командами `put`/`get` для удобной работы.
        
    - **curl/wget:** Загрузка файлов с веб-серверов по HTTP/HTTPS.
        
    - **Python-сервер:** Мгновенный раздачи файлов (`python3 -m http.server`).
        
    - **netcat (nc):** "Голая" передача файлов через TCP (`nc` слушает, `nc` отправляет).
        
    - **Контроль целостности:** Обязательная проверка хешей (`sha256sum`) после передачи.
        
- **Продвинутые инструменты (Автоматизация и скорость):**
    
    - **rsync:** Король синхронизации. Копирует только изменения (инкрементально), работает по SSH, сжимает данные (`-z`), умеет удалять лишнее на приемнике (`--delete`). Идеален для бэкапов и зеркалирования.
        
    - **Автоматизация:** Связка `rsync` + SSH-ключи (без пароля) + **cron** для регулярных заданий.
        
    - **Ускорение:** Сжатие `scp -C` для больших файлов, разбивка `split` + склейка `cat` для обхода ограничений, **lftp** для FTP с поддержкой зеркалирования.
        
    - **Rsync-демон:** Режим для сверхскоростной передачи без оверхэда SSH (но требует настройки конфига `/etc/rsyncd.conf`).
        

**2. DNS и разрешение имен (Как компьютер находит сайты)**

- **Суть:** Преобразует доменные имена (`example.com`) в IP-адреса (`93.184.216.34`).
    
- **Настройки:**
    
    - `/etc/resolv.conf` — главный файл с адресами DNS-серверов (`nameserver 8.8.8.8`).
        
    - `/etc/hosts` — локальный "телефонный справочник" для статического сопоставления имен и IP (имеет приоритет над DNS).
        
- **Диагностика:**
    
    - `nslookup` / `dig` — запросы к DNS-серверам. `dig +trace` показывает полный путь запроса.
        
    - `resolvectl` (или `systemd-resolve`) — управление кэшем `systemd-resolved`.
        
- **Публичные DNS:** Google (8.8.8.8), Cloudflare (1.1.1.1) для надежности и скорости.
    

**3. Брандмауэр и фильтрация пакетов (Защита сервера)**

- **Классика: iptables**
    
    - **Цепочки:** `INPUT` (входящие), `OUTPUT` (исходящие), `FORWARD` (пересылаемые).
        
    - **Политики:** `ACCEPT` (разрешить) или `DROP` (запретить) по умолчанию. Безопасно: `INPUT DROP`, `OUTPUT ACCEPT`.
        
    - **Правила:** Добавляются для разрешения конкретных портов (`--dport 22 -j ACCEPT`).
        
    - **Сохранение:** Правила "слетают" после перезагрузки. Нужно сохранять (например, `iptables-persistent`).
        
- **Современные инструменты (Упрощение управления):**
    
    - **firewalld (RHEL/CentOS/Fedora):** Работает с **зонами** (`public`, `trusted`) и предопределенными **сервисами** (`firewall-cmd --add-service=http`). Правила можно менять на лету.
        
    - **ufw (Ubuntu/Debian):** "Uncomplicated Firewall" — максимально простой интерфейс для iptables. Команды в духе `ufw allow ssh`.
        
    - **nftables:** Современная замена iptables (более производительная и гибкая). Использует единый синтаксис для IPv4 и IPv6. Рекомендуется для новых проектов.

[[Передача файлов по сети - база]]  [[Передача файлов по сети — расширенные возможности]]  [[DNS и резолвинг]]  [[Брандмауэр — современные инструменты]]  [[Брандмауэр и фильтрация пакетов — основы iptables]] 